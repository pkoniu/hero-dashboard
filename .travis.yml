language: node_js
node_js:
- 4.2.4
env:
  global:
    - secure: E5zZ+e1h1IyWFalmzwhis+ktuRgGajeqhs5zGuTnJhHN0GNaHgvRZrDOtLhzLLy7cGBrGzP9lyouUjmtXlAMEYoIWMEN8Jys72lxZCC/f+kKtCE9RGI6kLr3Tk9h9MyoT3lG/t1cmOwgnTBio6EM72njl4x9DSvGl/hfE84mu4MSMM8DXdYG/cPNpaZAHfLnWU7wDSbjJ2da1BfHYp3z7OxSS+Lex7asu4ICk9p8oozTY4UgptETAc1kYHalF45aZ+9Z3C/JtkrllJlRKAVpnf007hztJEUCmOtmcZZAMoptOszzYuqQrFLvZKjAL30qg7exwu7RdqcvjUvkpRVb5GYSsfh8pXAZUWBQkxyWWaQedUMqTS6LSafLKChHdiS9/nMhETVdYRYmcZjCFn0qBApEzKEVgYmbUW56XN+adGKg/3I2C+n/XKAt8xOcR5uzaiPae0yg/MlsGqdPlg+l1q6pQoreRB8tkYNNlXI+NZLIJBBoW5CSPgHVQecsQNy3ICaA0oDCTncAtIVQ+eYG5nfsxR9ayvguUt4LJRVNiMHIOBxOU6CAw0UJiV5x2kTndhyMpZXXK3y5iWVkoWJHESvw9KWFi+EPgyjBk4ITfadyvxivwPY6X1sr2bxOMHf1lZ2A1dLCIEHQT84BOsuNPnK2fWG4ODD7YSOnMGLWG+A=
    - secure: aDXWmiEXT70uEimWqYf6eqf7SZq8IpPT/5KhswWc8ke8QLJ7UBRBL0vx7WgU6zK+Bw9nQAcxDMF0q0i6NRRlKroKO672kBxuixsLIgj+SL20syZ3POrqztB/OJNH7KRnrIfR/78lLSFex/HRSN+C2Sw3IWNMOcRDXIcilIbtLVNqZ7OfLVwElVZ1wWL0SrYYnqDOdp4t/pfBT02wDxo1uDJBE2y/TJIIEsBJVRo1y5H6rDztANB2XSgyVREqvrdeys5TKoi1MtE6uQgsGdoSHy2oHM5ag5/qcQRbLlLMub4pfNVqVQGNKEDOU4vhWVhkcugTKIiQ321YKtmk7V5Ny/UUstCVuEcHsi5Axq+3StxBeP6Qn8bKXt6HNf8MDSLTy5qsHbKLNsGFE7dzp87zPSLaTCUWe/r+9cAnQ28A7E/+PEktc6358ntEOv/kc9LvBSP7RMH+/bdQ0LuKKZvfAta1fp8f6jK3XNQpNAwd1/g3VUHVgG/F1qMWMwYAzX1jT2rdr4/IrPZ5cKLiC74mIb9oAZD8nLboeNNBDohxEiIgPePAWmoGknlyzmbmqJH3BkelWfkZgfDVfQKMwqRkoC7w0KeNG6HdJnhUckuNgkq+KUGL6gT+JkGuI8RLQGw/LukzLK0B0ST91zq3x0m+My2e549HuSMNYHMrLJtm0JA=
    - secure: pqd21yuuaR4QbkJJidsDX5jxWd7GACY9xqm1hh64H0juMq8/bH+SwwoTk8vOY3EfUa/A72IomVylLVjj9LSP72Kxy0/2Xo1ZliRWVjQnDqWF98CXQKa0On3CBkQiezDBQFZoXL+pxU6o1Z13ikNFy1kfmbQi0NeKhX7h58pW8CLhGskZf2B1I/VBIB0YRG5i9ftheXsUiji7jP7TsU8hKv3ugscgH8FnbBldJX0ebPC08XENwZXP/ranV21xvj1d3uFEuN91e1tsRgOXb6UggJdMnz/J2gvux5WQIcucCbJa0m5S9ZEbO4GcZrgBQOZy6fPATPrhFO2YyBgkcOyD5xlDns0VKXYIbfbwCVbTGULNdbcyrUalphOgHq2ZI0nkVl6a5F+8IqmuRjnZ1nurUKVcxceg18Vwgv/UbYJZkgMKo8C3zMwrrnTsbzADig/hREfGrMFl8naJbAm0lrAUoOYmeSfEKP6GWGuLimn2SpZz9goi9yIRbe3sI4rlFUD7dJBlC9GWY4dM/zRaUqBK6wx/EAKQSlzXSPJt4WzjN+tSSvcR3EbSCbPxBMGjs+coqdoQbeexZns2aMnUnQkB3cHmkq546ouko8OI5V4+3fMzHelgynVgpfR9bd4q6cw8jlc1aFlJFgzhmkRDfnmpioQK43JBhs0xEtMzlGrCLRM=
    - APP_DOMAIN=http://www.hero-dash.herokuapp.com
script:
  - npm run test
  - npm run jshint
before_deploy: npm run infra
deploy:
  provider: heroku
  app: hero-dash
  api_key:
    secure: foJ3JybzLgup71LCRFXWVG/a+XBQgJFGBcDHxOXZ98Wj6OAITaXBRnzYMBUL/mKmgWR1WxcLAjtwxMoM2dC6tNNjHsy73yrBjzaXWAQirxotuJ8xzUcy2Qs5VYcEEQKCouRDVJnjWMoD8NnukoReXGi9orIP8gYadVcJJWacqgaTMDMAP00QeVNstzC8OU9BiO5Hq9yrAqSUw0/fQXG2DbETsN8bFYaaDYUyFIclxmGmCWVGrjLkGxaCgWUHeF5ZGl7OHDLZHfi/n0WINC3T0SpidPT0RTgaU+yQ0e9hQavD4LWKVH3tFr4Ggxab0SOz49xccQjKL53pYZPHuyF+jzglZgYOe5hZBBYEsaoAWzCVevS78dyxNKAlYl1xMucNbWeiKm84ELSIvtaK4dxa9HPoPEca7mn9WCfFwpSHNPf/kJk8/kL3xa2d9Y/1H21OTZ1RbeZZyi0LzvNsm5gvrcB6v5M2yIQbIoGYiSRBBROxKE2No3rskcrny5J/jGQi0RCbWDSD4w2+t212uriIiP9gRJhvuhOxOddbwQDC0CREBjX7KNLpzONmkjQHUAJA3SJnfNdnRa1N9ad0npQiaUKv02ZzsET/EUcswFJvZ3yT0YeyWhSULc6W6C0N72DgKiQykUACSm5VoZ526s7LXT+MTjrIHEa5LIKOn2dBJ+o=
  skip_cleanup: true
